var FpsCounter = /** @class */ (function () {
    function FpsCounter() {
        this._lastLoop = 0;
        this._fps = 0;
        this._isStart = false;
        this._callbacks = [];
    }
    FpsCounter.prototype._tick = function () {
        var thisLoop = performance.now();
        this._fps = Math.floor(1000 / (thisLoop - this._lastLoop));
        this._lastLoop = thisLoop;
        if (this._isStart) {
            requestAnimationFrame(this._tick);
        }
    };
    Object.defineProperty(FpsCounter.prototype, "fps", {
        get: function () {
            return this._fps;
        },
        enumerable: false,
        configurable: true
    });
    FpsCounter.prototype.start = function () {
        this._isStart = true;
        this._tick();
    };
    FpsCounter.prototype.stop = function () {
        this._isStart = false;
    };
    FpsCounter.prototype.onTick = function (callback) {
        var _this = this;
        if (!this._callbacks.includes(callback)) {
            this._callbacks.push(callback);
        }
        return function () {
            var index = _this._callbacks.indexOf(callback);
            if (index > -1) {
                _this._callbacks.splice(index, 1);
            }
        };
    };
    return FpsCounter;
}());

export { FpsCounter };
